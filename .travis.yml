matrix:
  include:
    - language: java
      script:
        - mvn clean verify
    - language: android
      jdk: oraclejdk8
      sudo: false
      android:
        components:
          - tools
          - android-28
          - build-tools-28.0.2
          - extra-google-google_play_services
          - extra-google-m2repository
          - extra-android-m2repository
          - sys-img-armeabi-v7a-addon-google_apis-google-28
        licenses:
          - 'android-sdk-license-.+'
      before_script:
        - cd frontend-passenger/PassengerRideShare
        - echo no | android create avd --force -n test -t android-28 --abi google_apis/armeabi-v7a
        - emulator -avd test -no-audio -no-window &
        - android-wait-for-emulator
        - adb shell input keyevent 82 &
      script:
        - ./gradlew build connectedCheck
    - language: android
      jdk: oraclejdk8
      sudo: false
      android:
        components:
          - tools
          - android-28
          - build-tools-28.0.2
          - extra-google-google_play_services
          - extra-google-m2repository
          - extra-android-m2repository
          - sys-img-armeabi-v7a-addon-google_apis-google-28
        licenses:
          - 'android-sdk-license-.+'
      before_script:
        - cd frontend-driver/DriverRideShare
        - echo no | android create avd --force -n test -t android-28 --abi google_apis/armeabi-v7a
        - emulator -avd test -no-audio -no-window &
        - android-wait-for-emulator
        - adb shell input keyevent 82 &
      script:
        - ./gradlew build connectedCheck
